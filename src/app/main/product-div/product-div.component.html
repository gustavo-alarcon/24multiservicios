<mat-card class="product w3-margin-bottom">
    <div class="ms-flex product__container">
        <div class="product__image-div">
            <img [defaultImage]="defaultImage" [lazyLoad]="product.photoURL" [offset]="100" class="product__image">
        </div>
        <div class="product__descrip">
            <div class="ms-flex product__container">
                <div class="product__title">{{product.description | titlecase}}</div>
                <button *ngIf="!package" mat-icon-button style="border: 1px dashed #565656; font-size: 1.3em;"
                    (click)="navigate(product.id)">
                    üç¥
                </button>
            </div>
            <div *ngIf="!package">
                <div *ngIf="product.realStock <= product.sellMinimum" class="product__provision">
                    En abastecimiento</div>
            </div>
            <p *ngIf="!package" class="product__paragraph">{{product.additionalDescription}}</p>
            <div *ngIf="package">
                <div class="formFieldRounded" *ngFor="let item of product['items']">
             
                    <mat-form-field *ngIf="item['productsOptions'].length > 1" color="primary" class="w3-small" appearance="outline">
                      <mat-select >
                        <mat-option *ngFor="let status of item['productsOptions']" [value]="status">
                          {{status['description']}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  
                  </div>
            </div>
            <div *ngIf="!package" class="product__etiquet">Precio por {{product.unit.description}} (aprox {{product.unit.abbreviation}})
            </div>
            <div *ngIf="package" class="product__etiquet">Precio por {{product.unit.description}}</div>
            <div class="ms-flex product__container">
                <div>
                    <div class="ms-flex" style="align-items: flex-end;">

                        <div *ngIf="!product.promo || product.promoData.quantity > 1" class="product__price">
                            <span style="font-size: 0.65em">S/. </span>
                            <span>{{product.price | number: '.2'}}</span>
                        </div>
                        <div *ngIf="product.promo && product.promoData.quantity == 1" class="product__price">
                            <span style="font-size: 0.65em">S/. </span>
                            <span>{{product.promoData.promoPrice | number: '.2'}}</span>
                        </div>
                        <div class="product__percent" *ngIf="product.promo && product.promoData.quantity == 1">
                            -{{getdiscount(product)}}%
                        </div>
                    </div>
                </div>
                <div *ngIf="!package">
                    <button *ngIf="product.realStock > product.sellMinimum" mat-mini-fab color='accent'
                        [disabled]="!stopBuy(product)" (click)="add(product)">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
                <div *ngIf="package">
                    <button mat-mini-fab color='accent' (click)="add(product)">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
            </div>
            <div *ngIf="product.promo && product.promoData.quantity > 1" class="w3-center product__promo">
                OFERTA: {{product.promoData.quantity}} x S/.
                {{product.promoData.promoPrice | number: '.2'}}
            </div>
            <div *ngIf="product.promo && product.promoData.quantity == 1" style="color: #eb5757;font-size: 0.7em;">
                Antes S/. {{product.price | number: '.2'}}
            </div>
        </div>
    </div>
</mat-card>