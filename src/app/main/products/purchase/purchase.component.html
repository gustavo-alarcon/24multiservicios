<div *ngIf="userData$ | async">
    <form [formGroup]="dataFormGroup" style="display:flex; flex-direction: column;">
        <!-- description  -->
    
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Correo</mat-label>
            <input autocomplete="off" formControlName="email" type="email" matInput placeholder="tucorreo@ejemplo.com">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>DNI</mat-label>
            <input autocomplete="off" formControlName="dni" type="tel" matInput placeholder="DNI / Carnet de extranjeria">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Nombre</mat-label>
            <input autocomplete="off" formControlName="name" type="text" matInput placeholder="Nombre">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Celular</mat-label>
            <input autocomplete="off" formControlName="phone" type="tel" matInput placeholder="Celular">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Fecha de entrega</mat-label>
            <input matInput [matDatepicker]="dateInit" [min]="now" formControlName="date" placeholder="Fecha de entrega"
                autocomplete="off">
            <mat-datepicker-toggle matSuffix [for]="dateInit"></mat-datepicker-toggle>
            <mat-datepicker #dateInit disabled="false"></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Opciones de pago</mat-label>
            <mat-select formControlName="pay" placeholder='Seleccionar'>
                <mat-option *ngFor="let type of payType" [value]="type">
                    {{type}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    
        <mat-form-field class="w3-block" appearance="outline">
            <mat-select formControlName="typePay" placeholder='Boleta/Factura'>
                <mat-option *ngFor="let type of payType" [value]="type">
                    {{type}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Direcci칩n</mat-label>
            <input autocomplete="off" formControlName="address" type="text" matInput placeholder="Direcci칩n de entrega">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
    
        <mat-form-field class="w3-block" appearance="outline">
            <mat-select [compareWith]="compareObjects" formControlName="district" placeholder="Distrito">
                <mat-option *ngFor="let district of districts" [value]="district" (click)="changeDelivery(district)">
                    {{district['name']}}
                </mat-option>
            </mat-select>
            <mat-hint>El precio de delivery depender치 del distrito de destino</mat-hint>
        </mat-form-field>
    
        <mat-form-field class="w3-block" appearance="outline">
            <mat-label>Referencia</mat-label>
            <input autocomplete="off" formControlName="ref" type="text" matInput placeholder="Referencia">
            <mat-error>Campo requerido</mat-error>
        </mat-form-field>
    </form>
    
    <div class="w3-margin-bottom">
        <div style="display: flex; flex-wrap: wrap;justify-content: space-between;">
            <div style="width: 80%;">Especifica tu direcci칩n en el mapa (Opcional)</div>
            <button mat-icon-button color="primary" (click)="findMe()">
                <mat-icon>gps_fixed</mat-icon>
            </button>
        </div>
        <br>
        <agm-map style="height: 280px;" [latitude]="latitud" [longitude]="longitud" [zoom]="15"
            (mapClick)="mapClicked($event)">
            <agm-marker [latitude]="latitud" [longitude]="longitud"></agm-marker>
        </agm-map>
    
    </div>
    <button mat-raised-button color="accent" [disabled]="!dataFormGroup.valid" class="w3-block" style=" font-weight: bold;">
        Finalizar Compra
    </button>
</div>